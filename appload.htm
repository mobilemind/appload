<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<meta name="keywords" content="appload,redirect,iOS,protocol,scheme,iBooks">
<meta name="robots" content="noindex,nofollow">
<meta name="MSSmartTagsPreventParsing" content="true">
<link rel="canonical" href="http://mmind.me/appload.htm">
<title>appload</title>
<!--
redirect http://mmind.me/appload.htm?target=URI to 'URI'
assumes 'URI a web protocol URL or an iOS app URI scheme
also assumes URI was previously encoded via encodeURIcomponent(URI)
-->
<script type="text/javascript">
function appload()	{
	try {
		var queryString = location.search.substr(1), matchedString = [];
		if (!queryString) throw 'No query string in URL ' + location.href;
		matchedString = queryString.match(/^target=(.*)$/);			
		if (!matchedString) throw 'No target found in query string ' + queryString;
		if (matchedString[1].length < 2) throw 'Query string has invalid target ' + matchedString[1];
		else location.href = decodeURIComponent(matchedString[1]);
	}
	catch (e) {
		console.log('error: ' + e);
		alert("Unable to process query string. Details in console.");
	}
	return;
}
</script>
</head>
<body onload="appload()"></body>
</html>
